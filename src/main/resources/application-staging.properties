# Staging environment configuration
# ------------------------------------------------

# Use the S3 storage implementation
storage.type=s3

# S3 configuration
cloud.aws.credentials.access-key=${AWS_ACCESS_KEY}
cloud.aws.credentials.secret-key=${AWS_SECRET_KEY}
cloud.aws.region.static=${AWS_REGION:us-east-1}
cloud.aws.stack.auto=false

# S3 bucket configuration
cloud.aws.s3.bucket=${AWS_S3_BUCKET}
cloud.aws.s3.endpoint=${AWS_S3_ENDPOINT}

# Storage URL prefix - for the staging environment S3 bucket
storage.url.prefix=https://${AWS_S3_BUCKET}.s3.us-west-2.amazonaws.com
# Server configuration
server.port=${PORT:8080}
# Removed server.servlet.context-path=/api to avoid double /api prefix

# Database Configuration
spring.datasource.url=jdbc:postgresql://familynest-staging.cpi2sm2imd7p.us-west-2.rds.amazonaws.com:5432/familynest-staging
spring.datasource.username=postgres
spring.datasource.password=familynest2025!
spring.datasource.driver-class-name=org.postgresql.Driver

# Logging configuration for staging
logging.level.com.familynest=INFO

spring.flyway.out-of-order=true
spring.flyway.repair=true
spring.flyway.baseline-on-migrate=true
spring.liquibase.enabled=false
spring.flyway.enabled=true
spring.flyway.baseline-on-migrate=true

spring.mail.host=smtp.gmail.com
spring.mail.port=587
spring.mail.username=anthonypate@gmail.com
spring.mail.password=cyti tmxn neqh ukkf
spring.mail.properties.mail.smtp.auth=true
spring.mail.properties.mail.smtp.starttls.enable=true
spring.mail.properties.mail.smtp.starttls.required=true

logging.level.com.familynest.controller.UserController=DEBUG

spring.data.redis.host=localhost
spring.data.redis.port=6379
spring.data.redis.timeout=2000ms

jwt.secret=NBVbJJstBZq+gChAhQ4sJMumG57x6PbR9tRZr4rIHFY=
app.base-url=http://54.189.190.245:8080

#file.upload-dir=/tmp/familynest-staging-uploads
#app.default.thumbnail=/uploads/thumbnails/default_thumbnail.jpg
#app.videos.dir=${file.upload-dir}/videos
#app.photos.dir=${file.upload-dir}/photos
#app.thumbnail.dir=${file.upload-dir}/thumbnails
#app.url.videos=/uploads/videos
#app.url.thumbnails=/uploads/thumbnails
#app.url.images=/uploads/images
#app.url.photos=/uploads/photos
#app.upload.dir=${file.upload-dir}

app.use.ffmpeg=true
app.groupchat.max-participants=5

# File upload size limits
spring.servlet.multipart.max-file-size=100MB
spring.servlet.multipart.max-request-size=100MB
spring.servlet.multipart.enabled=true
